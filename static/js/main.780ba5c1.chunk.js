(this["webpackJsonpanime-get-redux"]=this["webpackJsonpanime-get-redux"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),c=n(5),r=n.n(c),o=n(9),s=(n(27),n(1)),l=function(){return Object(s.jsx)("header",{className:"header",children:Object(s.jsx)("h1",{className:"header__title",children:"\u0421\u043e\u0431\u0435\u0440\u0438 \u0441\u0432\u043e\u044e \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0430\u043d\u0438\u043c\u0435"})})},u=(n(29),function(e){var t=e.anime,n=e.animeAddedLike,i=e.animeRemoveLike,a=e.animeRemove,c=t.attributes;return Object(s.jsx)("li",{className:"card",children:Object(s.jsxs)("div",{className:"card__info-container",children:[Object(s.jsxs)("div",{className:"card__header-container",children:[Object(s.jsx)("div",{className:"card__info",children:Object(s.jsx)("h3",{className:"card__name",children:c.canonicalTitle})}),Object(s.jsxs)("div",{className:"card__buttons-container",children:[Object(s.jsx)("button",{className:t.isLiked?"card__like-button card__like-button_active":"card__like-button",type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0434\u043b\u044f \u043b\u0430\u0439\u043a\u043e\u0432",onClick:t.isLiked?i:n}),!t.isLiked&&Object(s.jsx)("button",{className:"card__remove-button",type:"button","aria-label":"\u041a\u043d\u043e\u043f\u043a\u0430 \u0434\u043b\u044f \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u044f",onClick:a})]})]}),Object(s.jsx)("img",{className:"card__image",src:c.posterImage.medium,alt:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"})]})})}),d=(n(30),n(2)),m=a.a.createContext(),j=m.Provider,b=m.Consumer,O=function(){return function(e){return function(t){return Object(s.jsx)(b,{children:function(n){return Object(s.jsx)(e,Object(d.a)(Object(d.a)({},t),{},{animeService:n}))}})}}},f=n(10);n(31);var _=function(e){var t=e.animeFilterCollection,n=e.animeDelFilterCollection,a=Object(i.useState)(!1),c=Object(f.a)(a,2),r=c[0],o=c[1];return Object(s.jsxs)("div",{className:"filter-checkbox",children:[Object(s.jsxs)("label",{className:"filter-checkbox__label",children:[Object(s.jsx)("input",{type:"checkbox",className:"filter-checkbox__input",name:"filterCheckbox",id:"filterCheckbox",checked:r,onChange:function(e){return o(e.target.checked),void(r?n():t())}}),Object(s.jsx)("span",{className:"filter-checkbox-visible"})]}),Object(s.jsx)("p",{className:"filter__title",children:"\u041a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044f"})]})},L=(n(32),function(){return Object(s.jsx)("div",{className:"preloader",children:Object(s.jsx)("div",{className:"preloader__container",children:Object(s.jsx)("span",{className:"preloader__round"})})})}),h=(n(33),function(){return Object(s.jsx)("div",{className:"error",children:Object(s.jsx)("h2",{className:"error__title",children:"Error!"})})});var E={animeLoaded:function(e){return{type:"FETCH_ANIME_SUCCESS",payload:e}},animeError:function(e){return{type:"FETCH_ANIME_FAILURE",payload:e}},animeQuantity:function(e){return{type:"ANIME_ADD_QUANTITY",payload:e}},animeAddCards:function(e){return{type:"ANIME_ADD_CARDS",payload:e}},animeRemoveLike:function(e){return{type:"ANIME_REMOVE_LIKE",payload:e}},animeAddedLike:function(e){return{type:"ANIME_ADD_LIKE",payload:{animeId:e,like:t}};var t},animeRemove:function(e){return{type:"ANIME_REMOVE",payload:e}},animeCollectionRemove:function(e){return{type:"ANIME_REMOVE_FROM_COLLECTION",payload:e}},animeFilterCollection:function(){return{type:"ANIME_FILTER_COLLECTION"}},animeDelFilterCollection:function(){return{type:"ANIME_DEL_FILTER_COLLECTION"}}},p=O()(Object(o.b)((function(e){return{animeList:e.animeList,loading:e.loading,error:e.error,quantity:e.quantity,cards:e.cards,isOnCollection:e.isOnCollection,filterLikeAnimeList:e.filterLikeAnimeList}}),E)((function(e){var t=function(){var e=Object(i.useState)(0),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){function e(){a(window.innerWidth)}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),n=e.animeQuantity,a=e.animeAddCards,c=e.animeAddedLike,r=e.animeRemoveLike,o=e.animeRemove,l=e.animeFilterCollection,d=e.animeDelFilterCollection,m=e.animeCollectionRemove;function j(){n(p+v)}Object(i.useEffect)((function(){t>=1280&&(n(9),a(3)),t<1280&&t>767&&(n(6),a(2)),t<=767&&(n(5),a(2))}),[t]),Object(i.useEffect)((function(){var t=e.animeService,n=e.animeLoaded,i=e.animeError;t.getAnimeList().then((function(e){return n(e.data)})).catch((function(e){return i(e)}))}),[]);var b=e.animeList,O=e.loading,E=e.error,p=e.quantity,v=e.cards,N=e.isOnCollection,x=e.filterLikeAnimeList;return Object(s.jsxs)("main",{className:"content",children:[Object(s.jsx)("div",{className:"content__checkbox-container",children:Object(s.jsx)(_,{animeFilterCollection:l,animeDelFilterCollection:d})}),O&&Object(s.jsx)(L,{}),E&&Object(s.jsx)(h,{}),Object(s.jsx)("ul",{className:"anime-list",children:N?x.slice(0,p).map((function(e){return Object(s.jsx)(u,{anime:e,animeAddedLike:function(){return c(e.id)},animeRemoveLike:function(){m(e.id),r(e.id)},animeRemove:function(){return o(e.id)}},e.id)})):b.slice(0,p).map((function(e){return Object(s.jsx)(u,{anime:e,animeAddedLike:function(){return c(e.id)},animeRemoveLike:function(){return r(e.id)},animeRemove:function(){return o(e.id)}},e.id)}))}),N?Object(s.jsx)("div",{className:p>=x.length?"anime-list__more-button-container_type_none":"anime-list__more-button-container",children:Object(s.jsx)("button",{className:"anime-list__more-button","aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435",onClick:j,children:"\u0415\u0449\u0451"})}):Object(s.jsx)("div",{className:p>=b.length?"anime-list__more-button-container_type_none":"anime-list__more-button-container",children:Object(s.jsx)("button",{className:"anime-list__more-button","aria-label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0435",onClick:j,children:"\u0415\u0449\u0451"})})]})}))),v=p,N=(n(34),function(){return Object(s.jsxs)("main",{role:"main",className:"container",children:[Object(s.jsx)(l,{}),Object(s.jsx)(v,{})]})}),x=n(7),C=n(8),A=n(16),k=n(14),y=function(e){Object(A.a)(n,e);var t=Object(k.a)(n);function n(){var e;Object(x.a)(this,n);for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={hasError:!1},e}return Object(C.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?Object(s.jsx)(h,{}):this.props.children}}]),n}(i.Component),I=y,M=function(){function e(){Object(x.a)(this,e)}return Object(C.a)(e,[{key:"getAnimeList",value:function(){return fetch("https://kitsu.io/api/edge/anime?page[limit]=20&page[offset]=0",{headers:{Accept:"application/vnd.api+json","Content-Type":"application/vnd.api+json"}}).then((function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}))}}]),e}(),R=(n(35),n(15)),g=n(3),D={animeList:[],filterLikeAnimeList:[],loading:!0,error:null,quantity:null,cards:null,isOnCollection:!1},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ANIME_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{animeList:t.payload,loading:!1});case"FETCH_ANIME_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{animeList:[],loading:!1,error:t.payload});case"ANIME_ADD_QUANTITY":return Object(d.a)(Object(d.a)({},e),{},{quantity:t.payload});case"ANIME_ADD_CARDS":return Object(d.a)(Object(d.a)({},e),{},{cards:t.payload});case"ANIME_ADD_LIKE":var n=t.payload.animeId,i=e.animeList.find((function(e){return e.id===n}));return i.isLiked=!0,Object(d.a)(Object(d.a)({},e),{},{animeList:Object(g.a)(e.animeList)});case"ANIME_REMOVE_LIKE":var a=t.payload,c=e.animeList.find((function(e){return e.id===a}));return c.isLiked=!1,Object(d.a)(Object(d.a)({},e),{},{animeList:Object(g.a)(e.animeList)});case"ANIME_REMOVE":var r=t.payload,o=e.animeList.filter((function(e){return e.id!==r}));return Object(d.a)(Object(d.a)({},e),{},{animeList:Object(g.a)(o)});case"ANIME_REMOVE_FROM_COLLECTION":var s=t.payload,l=e.filterLikeAnimeList.filter((function(e){return e.id!==s}));return Object(d.a)(Object(d.a)({},e),{},{filterLikeAnimeList:Object(g.a)(l)});case"ANIME_FILTER_COLLECTION":var u=e.animeList.filter((function(e){return e.isLiked}));return Object(d.a)(Object(d.a)({},e),{},{filterLikeAnimeList:Object(g.a)(u),isOnCollection:!0});case"ANIME_DEL_FILTER_COLLECTION":return Object(d.a)(Object(d.a)({},e),{},{isOnCollection:!1});default:return e}},T=Object(R.a)(F),S=new M;r.a.render(Object(s.jsx)(o.a,{store:T,children:Object(s.jsx)(I,{children:Object(s.jsx)(j,{value:S,children:Object(s.jsx)(N,{})})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.780ba5c1.chunk.js.map